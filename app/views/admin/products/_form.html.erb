<%= form_with model: [:admin, @product], local: true, class: "space-y-6" do |f| %>
  <%= render "shared/form_errors", object: @product %>

  <div>
    <%= f.label :category_id, class: "block text-sm font-medium text-green-deep mb-1" %>
    <%= f.select :category_id, options_from_collection_for_select(@categories, :id, :name, @product.category_id), { prompt: "Select a category" }, { class: "form-select", data: { controller: "category-select", action: "change->category-select#updateSubcategories" } } %>
  </div>

  <div>
    <%= f.label :subcategory_id, class: "block text-sm font-medium text-green-deep mb-1" %>
    <%= f.select :subcategory_id, options_from_collection_for_select(@subcategories, :id, :name, @product.subcategory_id), { prompt: "Select a subcategory (optional)" }, { class: "form-select" } %>
  </div>

  <div>
    <%= f.label :title, class: "block text-sm font-medium text-green-deep mb-1" %>
    <%= f.text_field :title, class: "form-input" %>
  </div>

  <div>
    <%= f.label :description, class: "block text-sm font-medium text-green-deep mb-1" %>
    <%= f.text_area :description, rows: 4, class: "form-textarea" %>
  </div>

  <div>
    <%= f.label :price, class: "block text-sm font-medium text-green-deep mb-1" %>
    <%= f.number_field :price, step: 0.01, min: 0, class: "form-input" %>
  </div>

  <div class="flex items-center">
    <%= f.check_box :active, class: "form-checkbox" %>
    <%= f.label :active, "Active", class: "ml-2 block text-sm text-green-deep" %>
  </div>

  <div class="flex items-center justify-between pt-4 border-t border-pink-border">
    <div>
      <% if @product.persisted? %>
        <%= render "admin/shared/delete_button", delete_path: admin_product_path(@product) %>
      <% end %>
    </div>
    <div class="flex items-center space-x-3">
      <%= link_to "Cancel", admin_products_path, class: "btn-secondary" %>
      <%= f.submit class: "btn-primary" %>
    </div>
  </div>
<% end %>

